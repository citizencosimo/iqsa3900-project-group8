{% extends "base.html" %}
{% load static %}

{% block title %}Search{% endblock %}

{% block content %}
<div class="gor-card mb-3 shadow">
    <div class="card-body" style="padding: 0 0 0 0">
        <h2 class="card-title text-primary summary-title" style="font-weight: bold;">Search</h2>
        <div class="form-outline mx-5 d-flex align-items-center mt-4">
            <a href="{% url 'home' %}" class="btn mb-3 panel-btn" style="color: white; font-weight: bold;">&#x2190; Home</a>
            <form id="search-form" method="get" class="flex-grow-1 d-flex">
                {% if query %}
                    <input type="search" id="searchbox" class="form-control flex-grow-1" placeholder="{{ query }}" aria-label="Search" />
                {% else %}
                    <input type="search" id="searchbox" class="form-control flex-grow-1" placeholder="Search for game by title" aria-label="Search" />
                {% endif %}
                <button type="submit" class="btn mb-3 panel-btn" style="color: white; font-weight: bold;">Search</button>
            </form>
        </div>
    </div>
</div>

{% if games %}
    <table class="table table-dark table-striped">
    <thead>
        <tr>
            <th scope="col" style="color: white; font-size: larger; font-weight: bold;">Title</th>
            <th scope="col" style="color: white; font-size: larger; font-weight: bold;">Platform</th>
            <th scope="col" style="color: white; font-size: larger; font-weight: bold;">Release Date</th>
            <th scope="col" style="color: white; font-size: larger; font-weight: bold;">Publisher</th>
            <th scope="col" style="color: white; font-size: larger; font-weight: bold;">Developer</th>
        </tr>
    </thead>
    {% for game in games %}
        <tr>
            <td><a href="{% url "game_view" pk=game.pk %}" class="text-primary" style="font-size: larger; font-weight: bold;">{{ game.title }}</a></td>
            <td class="text-primary" style="font-size: larger;">{{ game.platform }}</td>
            <td class="text-primary" style="font-size: larger;">{{ game.release_date }}</td>
            <td class="text-primary" style="font-size: larger;">{{ game.publisher }}</td>
            <td><a href="{% url "developer_view" pk=game.developer.pk %}" class="text-primary" style="font-size: larger; font-weight: bold;">{{ game.developer }}</a></td>
        </tr>
    {% endfor %}
    </table>
{% else %}
    <h1 class="text-primary summary-title" style="font-size: larger; font-weight: bold;">No games found.</h1>
{% endif %}
{% endblock content %}

{% comment %} {% extends "base.html" %}
{% load static %}

{% block title %}Search{% endblock %}

{% block content %}
    <div class="form-outline mx-5 d-flex align-items-center">
        <a href="{% url 'home' %}" class="btn btn-light mr-2">&#x2190; Home</a>
        <form id="search-form" method="get" class="flex-grow-1 d-flex">
            {% if query %}
                <input type="search" id="searchbox" class="form-control flex-grow-1" placeholder="{{ query }}" aria-label="Search" />
            {% else %}
                <input type="search" id="searchbox" class="form-control flex-grow-1" placeholder="Search for game by title" aria-label="Search" />
            {% endif %}
            <button type="submit" class="btn btn-primary ml-2">Search</button>
        </form>
    </div>
    {% if games %}
        <table class="table">
        <thead>
            <tr>
                <th>Title</th>
                <th>Platform</th>
                <th>Release Date</th>
                <th>Publisher</th>
                <th>Developer</th>
            </tr>
        </thead>
        {% for game in games %}
            <tr>
                <th><a href="{% url "game_view" pk=game.pk %}">{{ game.title }}</a></th>
                <td>{{ game.platform }}</td>
                <td>{{ game.release_date }}</td>
                <td>{{ game.publisher }}</td>
                <td><a href="{% url "developer_view" pk=game.developer.pk %}">{{ game.developer }}</a></td>
            </tr>
        {% endfor %}
        </table>
    {% else %}
        <h1>No games found.</h1>
    {% endif %}
{% endblock content %} {% endcomment %}
